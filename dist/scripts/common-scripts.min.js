//Evaluated by gulp.
"use strict";var _APP_="com.common.mobile.core.App",_CONTROLLERS_=_APP_+".controllers",_DIRECTIVES_=_APP_+".directives",_FILTERS_=_APP_+".filters",_MODULES_=_APP_+".modules",_SERVICES_=_APP_+".services",_CONFIG_=_APP_+".config",_SQLITE_=_APP_+".sqlite",customerApp=angular.module(_APP_,[_CONTROLLERS_,_DIRECTIVES_,_FILTERS_,_MODULES_,_SERVICES_,_CONFIG_,_SQLITE_,"ionic","angular.filter","auto.generated","ngCordova","ionic.service.core","ionic.service.push","ionic.service.analytics","pascalprecht.translate","mgo-angular-wizard","angulartics.google.analytics.cordova"]);angular.module(_CONTROLLERS_,[]),angular.module(_DIRECTIVES_,[]),angular.module(_FILTERS_,[]),angular.module(_MODULES_,[]),angular.module(_SERVICES_,[]),angular.module(_CONFIG_,[]),angular.module(_SQLITE_,[]);var getOSVersion=function(e){var n;return n=ionic.Platform.isIOS()?e.os.ios:ionic.Platform.isAndroid()?e.os.android:ionic.Platform.isWindowsPhone()?e.os.win:e.os.android};customerApp.run(["$rootScope","$ionicPlatform","$ionicHistory","$state","$ionicCoreSettings","$cordovaDevice","$cordovaAppVersion","$cordovaNetwork","ENV","VAL","VALEXT","EVENT","SqlService","SetupService","NetworkStatusService","NotificationService","AnalyticService","FileService",function(e,n,t,o,r,a,i,c,u,l,s,f,d,p,v,g,S,m){e.rootUi=angular.copy(u.emptyRootUi),n.ready(function(){l.isDevice=void 0!==window.cordova,l.device.appId=r.get("app_id"),l.isDevice&&(v.alertOfflineNetworkStatus(),i.getVersionNumber().then(function(e){l.device.verName=e}),i.getVersionCode().then(function(e){l.device.verCode=e}),l.device.id=a.getUUID(),l.device.os=getOSVersion(u),l.device.osVer=a.getVersion(),g.initialize(),S.initialize()),window.cordova&&window.cordova.plugins.Keyboard&&(cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),cordova.plugins.Keyboard.disableScroll(!0)),window.StatusBar&&StatusBar.styleDefault(),d.onCreate().then(function(){console.log("all tables created by now",l),m.createDir(),p.beforeAll()}),e.$on(f.RELOAD_APP,function(){console.log("RELOAD_APP called"),p.beforeAll()}),e.$on("$stateChangeStart",function(e,n,t,o,r){try{S.trackView(n.name)}catch(a){console.log("in $stateChangeStart",a),console.log("rootScope stateChangeStart event "+e+" toState "+JSON.stringify(n)+" toParams "+JSON.stringify(t)+" fromState "+JSON.stringify(o)+" fromParams "+JSON.stringify(r))}var i=n.name;i&&!(i.indexOf("blank")>-1||i.indexOf("welcome")>-1||i.indexOf("first-launch")>-1||i.indexOf("sign-in")>-1||i.indexOf("sign-out")>-1)&&p.updateUiState(i)})}),n.registerBackButtonAction(function(){console.log("$rootScope.$viewHistory ",e.$viewHistory),console.log("$ionicHistory.backView()",t.backView()),console.log("$ionicHistory currentStateName",t.currentStateName()),t.currentStateName()===s.state.landing?navigator.app.exitApp():o.go(s.state.landing)},100)}]),angular.module(_APP_).config(["$ionicAutoTrackProvider","GEN_CONST",function(e,n){console.log("GEN_CONST.name ",n.environment),"DEV"===n.environment&&e.disableTracking()}]),angular.module(_APP_).config(["$translateProvider",function(e){e.useStaticFilesLoader({prefix:"i18n/",suffix:".json"}),e.preferredLanguage("en-us")}]),angular.module(_APP_).config(["$httpProvider","$provide",function(e,n){var t=function(e){return e&&e.url&&!e.url.indexOf(BASE)};n.factory("spinnerInterceptor",["$q","GlobalDataService",function(e,n){return{request:function(e){return t(e)&&n.showSpinner(!0),e},response:function(o){return o&&t(o.config)&&n.showSpinner(!1),o||e.when(o)},responseError:function(){n.showSpinner(!1)}}}]),n.factory("alertMessageInterceptor",["$q","GlobalDataService",function(e,n){return{response:function(t){return String.prototype.startsWith||(String.prototype.startsWith=function(e){return!this.indexOf(e)}),t&&t.config.url.startsWith(BASE)&&n.addMsg(t.data.msg),t||e.when(t)}}}]),n.factory("signsOutUserOn401",["$q","$location","$rootScope","VALEXT",function(e,n,t,o){return{responseError:function(r){return 401===r.status?(console.log("401 Unauthorized. Must authenticate first."),n.path(o.path.signIn)):403===r.status?(console.log("403 Forbidden wrong username or password or Access Denied"),t.user.showSignInFailureMessage=!0,n.path(o.path.signIn)):r.status>=400&&r.status<500,419===r.status,e.reject(r)}}}]),e.defaults.headers.common["Access-Control-Allow-Origin"]="*",delete e.defaults.headers.common["X-Requested-With"],e.interceptors.push("signsOutUserOn401"),e.interceptors.push("alertMessageInterceptor"),e.interceptors.push("spinnerInterceptor")}]),angular.module(_APP_).config(["$ionicConfigProvider","$stateProvider","$urlRouterProvider",function(e,n,t){ionic.Platform.isAndroid(),t.otherwise("/blank"),n.state("blank",{url:"/blank",templateUrl:"views/x-share/blank.html"}).state("welcome",{url:"/welcome",templateUrl:"views/x-share/welcome.html"})}]),angular.module(_APP_).config(function(){}),angular.module(_CONTROLLERS_).controller("AuthenticationController",["$rootScope","$scope","$state","ENV","VAL","VALEXT","EVENT","AuthenticationService","SetupService","UtilService","AppDataService",function(e,n,t,o,r,a,i,c,u,l,s){var f={username:null,password:null},d=function(){n.model=angular.copy(f)};d(),n.signin=function(){c.signin(n.model).then(function(e){var n=e.headers(o.tokenHeaderName);console.log("x-access-token: "+n);var t={};t.id=o.appDataTypeTOKEN,t.value=n,s.saveAppDataLocal(t).then(function(){s.getSTAppData().then(function(e){var n={};n.theme=e.value.theme,n.lang=e.value.lang,n.uiState=e.value.uiState;var t=o.emptyAppDataDto;t.uid=r.claim.uid,t.type=o.appDataTypeST,t.val=n,s.saveAppData(t).then(function(){u.beforeAll()})})})},function(){t.go(a.state.signIn)})},n.signout=function(){c.signout().then(function(){e.$broadcast(i.ONLINE_STATE_CHANGE),t.go(a.state.signIn)})},n.resetPassword=function(){c.resetPassword(n.model.username).then(function(e){"SUCCESS"===e.data.staus&&t.go(a.state.signIn)})}}]),angular.module(_CONTROLLERS_).controller("MainController",["$rootScope","$ionicPlatform","$timeout","ENV","MainService",function(e,n,t,o,r){var a={},i=function(n){e.$broadcast(n)},c=function(){a.onopen=function(){console.log("Channel Connected!")},a.onmessage=function(e){if(e.data){var n=JSON.parse(e.data);n.event&&i(n.event)}},a.onerror=function(){console.log("Connection Error!")},a.onclose=function(){console.log("Connection Closed!"),u()}},u=function(){r.getToken().then(function(e){if(e&&"SUCCESS"===e.data.status){var n=e.data.data.token,t=new goog.appengine.Channel(n);a=t.open(),c()}})},l=function(){o.openChannel&&t(function(){u()},1e3)};n.ready(function(){l()})}]),angular.module(_CONTROLLERS_).controller("RateShareController",["$scope","$ionicPlatform","$window","VALEXT",function(e,n,t,o){var r={isAndroid:!1},a=function(){e.ui=angular.copy(r),e.ui.msg=o.share.msg,e.ui.website=o.share.website,e.ui.isAndroid=ionic.Platform.isAndroid()},i=function(){a()},c=function(n,o,r){var a=e.ui.isAndroid?"com.facebook.katana":"fb://";console.log("schemeOrPackage ",a),t.appAvailability.check(a,function(){console.log("appAvailability yes"),r(n)},function(){console.log("appAvailability No"),r(o)})},u=function(e){console.log("final url ",e),t.open(e,"_system","location=no")};n.ready(function(){i()}),e.openWeb=function(){u(o.share.website)},e.openAppStore=function(){u(o.share.appStoreUrl)},e.openPlayStore=function(){var e="market://details?id="+o.share.appPackageName;u(e)},e.openFacebook=function(){if(e.ui.isAndroid){var n="fb://page/"+o.share.fbPageId,t=o.share.fbPageUrl;c(n,t,function(e){u(e)})}else{var r="fb://profile/"+o.share.fbPageId;u(r)}}}]),angular.module(_CONTROLLERS_).controller("VersionController",["$scope","$ionicPlatform","VAL",function(e,n,t){var o={version:void 0,versionCode:void 0},r=function(){e.ui=angular.copy(o)},a=function(){r(),e.ui.version=t.device.verName,e.ui.versionCode=t.device.verCode};n.ready(function(){a()})}]),angular.module(_DIRECTIVES_).directive("alertMessage",function(){return{restrict:"AE",templateUrl:"views/x-share/alert-message.html",replace:!0,scope:{messages:"="},link:function(e,n,t){e.closeable="close"in t}}}),angular.module(_DIRECTIVES_).directive("prkMenuRight",function(){return{restrict:"AE",scope:{},templateUrl:"views/navigation/menu-right.html",controller:"PopoverController"}}),angular.module(_DIRECTIVES_).directive("prkPhoto",["AssetService",function(e){var n=function(n){e.assetUrl(n.blobKey,"image").then(function(e){e?n.photoUrl=e:n.photoUrl=void 0},function(){n.photoUrl=void 0})};return{restrict:"A",scope:{blobKey:"=",placeholderClass:"@"},template:'<img data-ng-class="{ \'{{placeholderClass}}\' : !photoUrl}" data-ng-src="{{photoUrl}}"/>',link:function(e){e.$watch("blobKey",function(){n(e)}),e.blobKey&&n(e)}}}]),angular.module(_SERVICES_).factory("AnalyticService",["$q","$cordovaGoogleAnalytics","$ionicAnalytics","ENV","VAL",function(e,n,t,o,r){var a=function(){t.register()},i=function(){console.log("initialization - Google Analytics Plugin :"),r.isDevice?(n.setUserId(r.device.id),n.startTrackerWithId(o.gaTrackerId)):console.log("Google Analytics Unavailable")};return{initialize:function(){var n=e.defer();return o.analyticOnIonic&&a(),o.analyticOnGoogle&&i(),n.resolve("all done!"),n.promise},trackView:function(e){r.isDevice&&(o.analyticOnIonic&&t.track(e),o.analyticOnGoogle&&n.trackView(e))}}}]),angular.module(_SERVICES_).factory("AssetService",["$http","$q","$cordovaFile","$cordovaFileTransfer","API","VAL","AssetSqlService",function(e,n,t,o,r,a,i){return{assetUploadUrl:function(){return e.get(r.ASSET_UPLOAD_HANDLER_PROFILE)},assetDelete:function(n){var t={params:{"blob-key":n}};return e["delete"](r.ASSET_DELETE,t)},assetServe:function(n){var t={params:{"blob-key":n}};return e.get(r.ASSET_SERVE,t)},assetUrl:function(e,c){var u=n.defer();if(e){var l,s=cordova.file.externalDataDirectory+c+"/";i.getAsset().then(function(n){if(console.log("asset :",n),n&&a.isDevice)console.log("asset id and fileName ",n.id,n.fileName),t.checkFile(s,n.fileName).then(function(){l=s+n.fileName,u.resolve(l)},function(){u.reject(void 0)});else{var c=(new Date).getTime(),f=r.ASSET_SERVE+"?blob-key="+e;l=s+c;var d={},p=!0;console.log("targetFilePath ",l),o.download(f,l,d,p).then(function(n){console.log("Success ",n);var t={};t.id=e,t.fileName=c,i.saveAsset(t),u.resolve(l)},function(e){console.log("Error ",e),u.reject(void 0)},function(){})}})}else console.log("blobKey is null",e),u.reject(void 0);return u.promise}}}]),angular.module(_SERVICES_).factory("Camera",["$q",function(e){return{getPicture:function(n){var t=e.defer();return navigator.camera.getPicture(function(e){t.resolve(e)},function(e){t.reject(e)},n),t.promise}}}]),angular.module(_SERVICES_).factory("FileService",["$q","$cordovaFile","VAL",function(e,n,t){var o=function(){var o=!1;if(t.isDevice){var r=n.createDir(cordova.file.externalDataDirectory,"image",o),a=n.createDir(cordova.file.externalDataDirectory,"audio",o),i=n.createDir(cordova.file.externalDataDirectory,"video",o),c=[r,a,i];return e.all(c)}var u=e.defer();return u.resolve("all done!"),u.promise};return{createDir:function(){return o()}}}]),angular.module(_SERVICES_).factory("MediaService",["$cordovaMedia","ENV","VAL",function(e,n,t){var o,r="media/samsung-whistle.mp3",a="http://web.bellme.xyz/"+r,i={numberOfLoops:1,playAudioWhenScreenIsLocked:!0},c=function(e){return t.os===n.os.android?"/android_asset/www/"+e:e},u=function(e){console.log("Media Error",JSON.stringify(e))},l=function(e){e.stop(),t.os===n.os.ios?e.play(i):t.os===n.os.android&&e.play()};return{play:function(){var n=c(r);o=e.newMedia(n,null,u),l(o)},playOnline:function(){o=e.newMedia(a,null,u),l(o)},pause:function(){o.pause()},stop:function(){o.stop()},release:function(){o.release()}}}]),angular.module(_SERVICES_).factory("NotificationService",["$rootScope","$q","$ionicPush","ENV","EVENT","RegistrationService",function(e,n,t,o,r,a){var i=function(e){a.pushNotificationRegistration(e).then(function(){})};return{initialize:function(){console.log("initialize PushNotification"),t.init({debug:!1,canShowAlert:!0,canSetBadge:!0,canPlaySound:!0,canRunActionsOnWake:!0,onNotification:function(n){var t=n.payload;return console.log("onNotification log {} payload {}",n,t),"PARTNER"===o.appName?e.$broadcast(r.RELOAD_ACTIVITY_STATUS):e.$broadcast(r.RELOAD_CAR_STATUS),!0},onRegister:function(e){console.log("2. onRegister Device token will be data.token, data= ",e),i(e.token)},pluginConfig:{ios:{alert:!0,badge:!0,sound:!0,clearBadge:!0},android:{iconColor:"#FFFFFF"}}}),t.register(function(e){console.log("1. Device token will be token.token, token= ",e)})}}}]),angular.module(_SERVICES_).factory("SqLite",["$q",function(e){return{openDB:function(e){var n,t="undefined"!=typeof window.cordova,o=t?window.sqlitePlugin:window;if("undefined"==typeof o.openDatabase)return window.alert("Your browser has no SQL support!  Please try a Webkit-based browser"),null;if(t)n=o.openDatabase({name:e,location:"default"});else{console.log("WebSql init");var r=5e6;n=o.openDatabase(e,"1.0","DemoDB",r)}return n},openDBBackground:function(e){return window.sqlitePlugin.openDatabase({name:e,bgType:1})},execute:function(n,t,o){var r=e.defer();return n.transaction(function(e){e.executeSql(t,o,function(e,n){r.resolve(n)},function(e,n){r.reject(n)})}),r.promise},nestedExecute:function(n,t,o,r,a){var i=e.defer();return n.transaction(function(e){e.executeSql(t,r,function(e,n){i.resolve(n),e.executeSql(o,a,function(e,n){i.resolve(n)})},function(e,n){i.reject(n)})}),i.promise}}}]),angular.module(_SERVICES_).factory("AppDataService",["$q","$http","ENV","VAL","API","AppDataSqlService",function(e,n,t,o,r,a){var i=function(e){return e||(e={},e.id=t.appDataTypeST,e.value=t.emptySTAppData),e},c=function(e){return a.getAppData(e)};return{saveAppData:function(e){return n.post(r.SETTING,e)},saveAppDataLocal:function(e){return a.saveAppData(e)},getSTAppData:function(){var n=e.defer();return c(t.appDataTypeST).then(function(e){n.resolve(i(e))}),n.promise},getAppData:function(e){return c(e)}}}]),angular.module(_SERVICES_).factory("AppDataSqlService",["$q","$ionicPlatform","ENV","SqLite","UtilService",function(e,n,t,o,r){var a=null;n.ready(function(){a=o.openDB(t.dbName)});var i=function(n){var t=e.defer(),r="SELECT * FROM appData WHERE id = ?";return o.execute(a,r,[n]).then(function(e){var o;try{var r=e.rows.item(0);if(r){var a=JSON.parse(r.value);o={},o.id=r.id,o.value=a}}catch(i){console.log("id "+n+" | catch err : "+i.message)}t.resolve(o)}),t.promise};return{saveAppData:function(e){var n,t="DELETE FROM appData WHERE id = ?";o.execute(a,t,[e.id]);var i=JSON.stringify(e.value);return t="INSERT INTO appData (id, value, modifiedAt) VALUES (?, ?, ?)",n=[e.id,i,r.getTime()],o.execute(a,t,n)},getAppData:function(e){return i(e)}}}]),angular.module(_SERVICES_).factory("AuthenticationService",["$http","$sanitize","ENV","VAL","API","UtilService",function(e,n,t,o,r,a){var i=function(e){return"username="+n(e.username)+"&password="+n(e.password)+"&deviceId="+o.device.id+"&deviceType="+o.device.type};return{signin:function(n){var o={headers:{"Content-Type":"application/x-www-form-urlencoded"}},c=e.post(r.SIGNIN,i(n),o);return c.then(function(e){var n=e.headers(t.tokenHeaderName);console.log("x-access-token: "+n),a.updateVALAndHeaders(n)}),c},signout:function(){var n=e.get(r.SIGNOUT);return n.then(function(){var e;a.updateVALAndHeaders(e),console.log("signout.success")}),n}}}]),angular.module(_SERVICES_).factory("GlobalDataService",["$rootScope","$timeout",function(e,n){var t=function(t){e.rootUi.showSpinner=t,n(function(){e.rootUi.showSpinner=!1},3e4)},o=function(t){e.rootUi.working=t,n(function(){e.rootUi.working=!1},5e3)},r=function(t){e.rootUi.msg=t,n(function(){e.rootUi.msg=null},4e3)},a=function(e,n,t,o){var a={};a.type=e,a.value=[];var i={};i.text=n,i.title=t,i.param=o,a.value.push(i);var c=[];c.push(a),r(c)};return{showSpinner:function(e){t(e)},working:function(){o(!0)},isWorking:function(){return e.rootUi.working},resetWorking:function(){e.rootUi.working=!1},addMessage:function(e,n,t,o){a(e,n,t,o)},addMsg:function(e){r(e)}}}]),angular.module(_SERVICES_).factory("MainService",["$http","$q","ENV","VAL","API",function(e,n,t,o,r){return{getToken:function(){var a=n.defer(),i="PARTNER"===t.appName,c={params:{deviceId:o.uuid,isPartnerApp:i}};return a.resolve(e.get(r.CHANNEL_TOKEN,c)),a.promise}}}]),angular.module(_SERVICES_).factory("NetworkStatusService",["$cordovaNetwork","$ionicPopup","ENV","VAL",function(e,n,t,o){return{alertOfflineNetworkStatus:function(){if(o.isDevice&&t.showNetworkStatusAlert&&e.isOffline()){var r=n.alert({title:"No Internet Connection!",template:"Sorry, no Internet connectivity detected. App running in offline mode!"});r.then(function(e){e&&console.log("done Network Status!")})}}}}]),angular.module(_SERVICES_).factory("RegistrationService",["$http","ENV","VAL","API",function(e,n,t,o){return{deviceRegistration:function(){var n=angular.copy(t.device);return t.claim&&(n.uid=t.claim.uid),e.post(o.DEVICE,n)},pushNotificationRegistration:function(r){var a={};return a.id=t.device.id+n.SEPARATOR+t.device.appId,a.token=r,a.active=!0,e.post(o.PUSH_NOTIFICATION,a)}}}]),angular.module(_SERVICES_).factory("SetupService",["$http","$rootScope","$q","$state","$cordovaNetwork","$timeout","$ionicHistory","EVENT","ENV","VAL","VALEXT","UtilService","AppDataService","AppDataExtService","AppUpdateService","RegistrationService",function(e,n,t,o,r,a,i,c,u,l,s,f,d,p,v,g){var S=function(){var e=t.defer();return d.getSTAppData().then(function(t){t.value.uiState?o.go(s.state.landing).then(function(){var e=i.viewHistory().currentView;i.backView(e),o.go(t.value.uiState)}):o.go(s.state.landing),n.$broadcast(c.APP_LAUNCH),e.resolve("all done!")}),e.promise},m=function(e){var n=t.defer();return d.getSTAppData().then(function(t){t.value.navigation=e,n.resolve(d.saveAppDataLocal(t))}),n.promise},E=function(){var e=t.defer();return d.getAppData(u.appDataTypeTOKEN).then(function(n){if(n){var t=n.value;f.updateVALAndHeaders(t)}e.resolve("all done!")}),e.promise},A=function(e){var o=t.defer(),r=[],a=0;return r[a++]=m(e.navigation),d.getSTAppData().then(function(n){n.value.navigation=e.navigation,n.value.lang=e.lang,n.value.theme=e.theme,n.value.activeSiteId=e.activeSiteId,n.value.activeAreaId=e.activeAreaId,r[a++]=d.saveAppDataLocal(n)}),r[a++]=p.saveCustomSetting(e),t.all(r).then(function(){n.$broadcast(c.APP_LAUNCH),o.resolve("all done!")}),o.promise},_=function(){l.firstLaunch=!0;var e=t.defer();return a(function(){console.log("in state go app.first-launch"),o.go(s.state.welcome),e.resolve("all done!")},1e3),e.promise};return{updateUiState:function(e){var n=t.defer();try{d.getSTAppData().then(function(t){t.value.uiState=e,n.resolve(d.saveAppDataLocal(t))})}catch(o){n.resolve(o)}return n.promise},beforeAll:function(){var e=t.defer();return v.applyUpdatesOnVersionChanged().then(function(){E().then(function(){l.isDevice&&r.isOffline()?e.resolve(S()):g.deviceRegistration().then(function(n){if(n){var t=n.data.data;t||(t={}),A(t).then(function(){t.appData?(console.log("normalFlow "),e.resolve(S())):(console.log("firstLaunch "),e.resolve(_(t)))})}else e.resolve(S())},function(n){console.log("beforeAll deviceRegistration error - offline app launch",n),e.resolve(S())})})}),e.promise}}}]),angular.module(_SERVICES_).factory("SqlService",["$q","$ionicPlatform","ENV","SqLite",function(e,n,t,o){var r=null;return n.ready(function(){r=o.openDB(t.dbName)}),{onCreate:function(){console.log("onCreate");var n="CREATE TABLE IF NOT EXISTS todo (id INTEGER primary key, user INTEGER, title TEXT, text TEXT, status INTEGER, modifiedAt NUMERIC)",t=o.execute(r,n);n="CREATE TABLE IF NOT EXISTS appData (id TEXT primary key, value TEXT, modifiedAt NUMERIC)";var a=o.execute(r,n);n="CREATE TABLE IF NOT EXISTS asset (id TEXT primary key, fileName TEXT, modifiedAt NUMERIC)";var i=o.execute(r,n),c=[t,a,i];return e.all(c)},dropAll:function(){var e="PRAGMA writable_schema = 1";o.execute(r,e),e="delete from sqlite_master where type in ('table', 'index', 'trigger')",console.log("query "+e),o.execute(r,e),e="PRAGMA writable_schema = 0",o.execute(r,e),e="VACUUM",o.execute(r,e),e="PRAGMA INTEGRITY_CHECK",o.execute(r,e)},onUpgrade:function(){}}}]),angular.module(_SERVICES_).factory("SessionService",["$window",function(e){return{get:function(n){return e.sessionStorage.getItem(n)},set:function(n,t){return e.sessionStorage.setItem(n,t)},unset:function(n){return e.sessionStorage.removeItem(n)}}}]),angular.module(_SERVICES_).factory("LocalService",["$window",function(e){return{get:function(n){return e.localStorage.getItem(n)},set:function(n,t){return e.localStorage.setItem(n,t)},unset:function(n){return e.localStorage.removeItem(n)}}}]),angular.module(_SERVICES_).factory("UtilService",["$http","VAL",function(e,n){var t=function(){var e={},t=n.token;if(t){var o=t.split(".");e=JSON.parse(window.atob(o[1]))}return e},o=function(o){n.token=o,e.defaults.headers.common.Authorization="Bearer "+o;var r=t();n.claim=r};return{isNotNull:function(e){return void 0!==e&&null!==e},addSpaceInBetweenText:function(e,n){for(var t="",o=0;o<e.length;o++)o%n===0&&(t+=" "),t+=e.charAt(o);return t},emptyDeleteEntityAppData:function(){var e={};return e.id="DELETE_ENTITY",e.value={},e},isEmptyObjectNew:function(e){return 0===Object.keys(e).length},isEmptyObject:function(e){for(var n in e)if(e.hasOwnProperty(n))return!1;return!0},sum:function(e,n){return e&&n?parseInt(e)+parseInt(n):e?parseInt(e):n?parseInt(n):void 0},unique:function(e){for(var n=[],t=0;t<e.length;t++)-1===n.indexOf(e[t])&&n.push(e[t]);return n},getTime:function(){return(new Date).getTime()},updateVALAndHeaders:function(e){o(e)}}}]),angular.module(_SERVICES_).value("VAL",{device:{id:"0",type:"PH",os:"ANDROID",osVer:"",appId:"",verCode:"",verName:""},claim:null,token:null,firstLaunch:!1,isDevice:!1,data:{}}),angular.module(_CONTROLLERS_).controller("MessageAlertController",["$scope","$ionicPlatform","MediaService",function(e,n,t){var o={temp:!1},r={temp:null},a=function(){e.ui=angular.copy(o),e.model=angular.copy(r)},i=function(){a()};n.ready(function(){i()}),e.play=function(){t.play()},e.playOnline=function(){t.playOnline()},e.pause=function(){t.pause()},e.stop=function(){t.stop()},e.release=function(){t.release()}}]);
//# sourceMappingURL=common-scripts.min.js.map
